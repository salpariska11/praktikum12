# ANALISIS KODE PROGRAM
## build_embeddings.py ##
Program `build_embeddings.py` berfungsi untuk mengekstraksi embedding wajah dari semua gambar yang berada di dalam folder `data/train`. Proses ini dimulai dengan mengimpor beberapa pustaka yang diperlukan seperti `os`, `glob`, `numpy`, dan `tqdm`, serta fungsi `embed_from_path` dari modul `utils_facenet.py`. Fungsi `iter_images()` digunakan untuk menelusuri seluruh folder kelas (misalnya nama orang seperti *rizal* atau *salva*) dan mengumpulkan path setiap gambar di dalamnya. Dengan cara ini, program dapat secara otomatis membaca seluruh dataset tanpa perlu memasukkan nama file satu per satu. Selanjutnya, fungsi `build_matrix()` akan memanggil fungsi `embed_from_path()` untuk setiap gambar. Fungsi tersebut mendeteksi wajah menggunakan MTCNN dan menghasilkan embedding FaceNet berdimensi 512. Jika wajah tidak terdeteksi, gambar tersebut dicatat dalam daftar `bad`. Jika berhasil, embedding dimasukkan ke dalam list `X` dan labelnya (nama folder) dimasukkan ke list `y`. Setelah seluruh proses selesai, data dikonversi menjadi array NumPy.

Pada bagian utama program (`if __name__ == "__main__":`), proses dimulai dengan menampilkan informasi bahwa ekstraksi embedding sedang berjalan. Kemudian `build_matrix("data/train")` dipanggil untuk menghasilkan tiga keluaran: embedding (`X`), label (`y`), dan daftar gambar gagal deteksi (`bad`). Program menampilkan jumlah embedding yang dihasilkan, jumlah label, dan jumlah gambar yang tidak berhasil diproses. Akhirnya, embedding dan label disimpan ke file `X_train.npy` dan `y_train.npy` menggunakan `numpy.save()`. File `.npy` inilah yang nantinya digunakan untuk melatih model SVM pada tahap berikutnya. Program ditutup dengan pesan sukses bahwa proses ekstraksi embedding telah selesai.
